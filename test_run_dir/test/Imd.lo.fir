circuit imd :
  module imd :
    input clock : Clock
    input reset : UInt<1>
    input io_instr : UInt<32>
    input io_pc : UInt<32>
    output io_itype : UInt<32>
    output io_stype : UInt<32>
    output io_sbtype : UInt<32>
    output io_utype : UInt<32>
    output io_ujtype : UInt<32>

    node _T = bits(io_instr, 6, 0) @[imdgen.scala 22:19]
    node _T_1 = eq(_T, UInt<2>("h3")) @[imdgen.scala 22:25]
    node _T_2 = bits(io_instr, 6, 0) @[imdgen.scala 22:52]
    node _T_3 = eq(_T_2, UInt<4>("hf")) @[imdgen.scala 22:58]
    node _T_4 = or(_T_1, _T_3) @[imdgen.scala 22:41]
    node _T_5 = bits(io_instr, 6, 0) @[imdgen.scala 22:85]
    node _T_6 = eq(_T_5, UInt<5>("h13")) @[imdgen.scala 22:91]
    node _T_7 = or(_T_4, _T_6) @[imdgen.scala 22:74]
    node _T_8 = bits(io_instr, 6, 0) @[imdgen.scala 22:118]
    node _T_9 = eq(_T_8, UInt<5>("h1b")) @[imdgen.scala 22:124]
    node _T_10 = or(_T_7, _T_9) @[imdgen.scala 22:108]
    node _T_11 = bits(io_instr, 6, 0) @[imdgen.scala 22:152]
    node _T_12 = eq(_T_11, UInt<7>("h73")) @[imdgen.scala 22:158]
    node _T_13 = or(_T_10, _T_12) @[imdgen.scala 22:141]
    node _T_14 = bits(io_instr, 6, 0) @[imdgen.scala 22:186]
    node _T_15 = eq(_T_14, UInt<7>("h67")) @[imdgen.scala 22:192]
    node _T_16 = or(_T_13, _T_15) @[imdgen.scala 22:175]
    node _io_itype_T = bits(io_instr, 31, 31) @[imdgen.scala 23:41]
    node _io_itype_T_1 = bits(_io_itype_T, 0, 0) @[Bitwise.scala 72:15]
    node io_itype_hi = mux(_io_itype_T_1, UInt<20>("hfffff"), UInt<20>("h0")) @[Bitwise.scala 72:12]
    node io_itype_lo = bits(io_instr, 31, 20) @[imdgen.scala 23:55]
    node _io_itype_T_2 = cat(io_itype_hi, io_itype_lo) @[Cat.scala 30:58]
    node _T_17 = bits(io_instr, 6, 0) @[imdgen.scala 25:24]
    node _T_18 = eq(_T_17, UInt<6>("h23")) @[imdgen.scala 25:29]
    node _io_stype_T = bits(io_instr, 31, 31) @[imdgen.scala 26:40]
    node _io_stype_T_1 = bits(_io_stype_T, 0, 0) @[Bitwise.scala 72:15]
    node io_stype_hi_hi = mux(_io_stype_T_1, UInt<20>("hfffff"), UInt<20>("h0")) @[Bitwise.scala 72:12]
    node io_stype_hi_lo = bits(io_instr, 31, 25) @[imdgen.scala 26:54]
    node io_stype_lo = bits(io_instr, 11, 7) @[imdgen.scala 26:70]
    node io_stype_hi = cat(io_stype_hi_hi, io_stype_hi_lo) @[Cat.scala 30:58]
    node _io_stype_T_2 = cat(io_stype_hi, io_stype_lo) @[Cat.scala 30:58]
    node _T_19 = bits(io_instr, 6, 0) @[imdgen.scala 29:24]
    node _T_20 = eq(_T_19, UInt<7>("h63")) @[imdgen.scala 29:29]
    node _io_sbtype_T = bits(io_instr, 31, 31) @[imdgen.scala 30:41]
    node _io_sbtype_T_1 = bits(_io_sbtype_T, 0, 0) @[Bitwise.scala 72:15]
    node io_sbtype_hi_hi_hi = mux(_io_sbtype_T_1, UInt<19>("h7ffff"), UInt<19>("h0")) @[Bitwise.scala 72:12]
    node io_sbtype_hi_hi_lo = bits(io_instr, 31, 31) @[imdgen.scala 30:55]
    node io_sbtype_hi_lo = bits(io_instr, 7, 7) @[imdgen.scala 30:68]
    node _io_sbtype_T_2 = bits(io_instr, 30, 25) @[imdgen.scala 30:80]
    node _io_sbtype_T_3 = asSInt(_io_sbtype_T_2) @[imdgen.scala 30:88]
    node _io_sbtype_T_4 = bits(io_instr, 11, 8) @[imdgen.scala 30:103]
    node _io_sbtype_T_5 = asSInt(_io_sbtype_T_4) @[imdgen.scala 30:110]
    node io_sbtype_lo_hi_lo = asUInt(_io_sbtype_T_5) @[Cat.scala 30:58]
    node io_sbtype_lo_hi_hi = asUInt(_io_sbtype_T_3) @[Cat.scala 30:58]
    node io_sbtype_lo_hi = cat(io_sbtype_lo_hi_hi, io_sbtype_lo_hi_lo) @[Cat.scala 30:58]
    node io_sbtype_lo = cat(io_sbtype_lo_hi, UInt<1>("h0")) @[Cat.scala 30:58]
    node io_sbtype_hi_hi = cat(io_sbtype_hi_hi_hi, io_sbtype_hi_hi_lo) @[Cat.scala 30:58]
    node io_sbtype_hi = cat(io_sbtype_hi_hi, io_sbtype_hi_lo) @[Cat.scala 30:58]
    node _io_sbtype_T_6 = cat(io_sbtype_hi, io_sbtype_lo) @[Cat.scala 30:58]
    node _io_sbtype_T_7 = add(_io_sbtype_T_6, io_pc) @[imdgen.scala 30:122]
    node _io_sbtype_T_8 = tail(_io_sbtype_T_7, 1) @[imdgen.scala 30:122]
    node _T_21 = bits(io_instr, 6, 0) @[imdgen.scala 32:26]
    node _T_22 = eq(_T_21, UInt<5>("h17")) @[imdgen.scala 32:31]
    node _T_23 = bits(io_instr, 6, 0) @[imdgen.scala 32:57]
    node _T_24 = eq(_T_23, UInt<6>("h37")) @[imdgen.scala 32:62]
    node _T_25 = or(_T_22, _T_24) @[imdgen.scala 32:46]
    node _io_utype_T = bits(io_instr, 31, 31) @[imdgen.scala 33:40]
    node _io_utype_T_1 = bits(_io_utype_T, 0, 0) @[Bitwise.scala 72:15]
    node io_utype_hi = mux(_io_utype_T_1, UInt<12>("hfff"), UInt<12>("h0")) @[Bitwise.scala 72:12]
    node io_utype_lo = bits(io_instr, 31, 12) @[imdgen.scala 33:54]
    node _io_utype_T_2 = cat(io_utype_hi, io_utype_lo) @[Cat.scala 30:58]
    node _T_26 = bits(io_instr, 6, 0) @[imdgen.scala 36:25]
    node _T_27 = eq(_T_26, UInt<7>("h6f")) @[imdgen.scala 36:30]
    node _io_ujtype_T = bits(io_instr, 31, 31) @[imdgen.scala 37:42]
    node _io_ujtype_T_1 = bits(_io_ujtype_T, 0, 0) @[Bitwise.scala 72:15]
    node io_ujtype_hi_hi_hi = mux(_io_ujtype_T_1, UInt<11>("h7ff"), UInt<11>("h0")) @[Bitwise.scala 72:12]
    node io_ujtype_hi_hi_lo = bits(io_instr, 31, 31) @[imdgen.scala 37:56]
    node io_ujtype_hi_lo = bits(io_instr, 19, 12) @[imdgen.scala 37:69]
    node io_ujtype_lo_hi_hi = bits(io_instr, 20, 20) @[imdgen.scala 37:85]
    node io_ujtype_lo_hi_lo = bits(io_instr, 30, 21) @[imdgen.scala 37:98]
    node io_ujtype_lo_hi = cat(io_ujtype_lo_hi_hi, io_ujtype_lo_hi_lo) @[Cat.scala 30:58]
    node io_ujtype_lo = cat(io_ujtype_lo_hi, UInt<1>("h0")) @[Cat.scala 30:58]
    node io_ujtype_hi_hi = cat(io_ujtype_hi_hi_hi, io_ujtype_hi_hi_lo) @[Cat.scala 30:58]
    node io_ujtype_hi = cat(io_ujtype_hi_hi, io_ujtype_hi_lo) @[Cat.scala 30:58]
    node _io_ujtype_T_2 = cat(io_ujtype_hi, io_ujtype_lo) @[Cat.scala 30:58]
    node _io_ujtype_T_3 = add(_io_ujtype_T_2, io_pc) @[imdgen.scala 37:111]
    node _io_ujtype_T_4 = tail(_io_ujtype_T_3, 1) @[imdgen.scala 37:111]
    node _GEN_0 = mux(_T_27, _io_ujtype_T_4, UInt<1>("h0")) @[imdgen.scala 36:47 imdgen.scala 37:19 imdgen.scala 21:15]
    node _GEN_1 = mux(_T_25, _io_utype_T_2, UInt<1>("h0")) @[imdgen.scala 32:78 imdgen.scala 33:17 imdgen.scala 20:14]
    node _GEN_2 = mux(_T_25, UInt<1>("h0"), _GEN_0) @[imdgen.scala 32:78 imdgen.scala 21:15]
    node _GEN_3 = mux(_T_20, _io_sbtype_T_8, UInt<1>("h0")) @[imdgen.scala 29:45 imdgen.scala 30:18 imdgen.scala 19:15]
    node _GEN_4 = mux(_T_20, UInt<1>("h0"), _GEN_1) @[imdgen.scala 29:45 imdgen.scala 20:14]
    node _GEN_5 = mux(_T_20, UInt<1>("h0"), _GEN_2) @[imdgen.scala 29:45 imdgen.scala 21:15]
    node _GEN_6 = mux(_T_18, _io_stype_T_2, UInt<1>("h0")) @[imdgen.scala 25:45 imdgen.scala 26:17 imdgen.scala 18:14]
    node _GEN_7 = mux(_T_18, UInt<1>("h0"), _GEN_3) @[imdgen.scala 25:45 imdgen.scala 19:15]
    node _GEN_8 = mux(_T_18, UInt<1>("h0"), _GEN_4) @[imdgen.scala 25:45 imdgen.scala 20:14]
    node _GEN_9 = mux(_T_18, UInt<1>("h0"), _GEN_5) @[imdgen.scala 25:45 imdgen.scala 21:15]
    node _GEN_10 = mux(_T_16, _io_itype_T_2, UInt<1>("h0")) @[imdgen.scala 22:209 imdgen.scala 23:18 imdgen.scala 17:14]
    node _GEN_11 = mux(_T_16, UInt<1>("h0"), _GEN_6) @[imdgen.scala 22:209 imdgen.scala 18:14]
    node _GEN_12 = mux(_T_16, UInt<1>("h0"), _GEN_7) @[imdgen.scala 22:209 imdgen.scala 19:15]
    node _GEN_13 = mux(_T_16, UInt<1>("h0"), _GEN_8) @[imdgen.scala 22:209 imdgen.scala 20:14]
    node _GEN_14 = mux(_T_16, UInt<1>("h0"), _GEN_9) @[imdgen.scala 22:209 imdgen.scala 21:15]
    io_itype <= _GEN_10
    io_stype <= _GEN_11
    io_sbtype <= _GEN_12
    io_utype <= _GEN_13
    io_ujtype <= _GEN_14
